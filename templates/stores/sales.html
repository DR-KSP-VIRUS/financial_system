{% extends "_base.html" %}

{% block title %}Sales{% endblock title %}


{% block content %}

    {% include "stores/_sale.html" %}

        <div class="bg-gray-200 flex flex-col px-4 py-10 min-h-screen gap-4">

        <div class="bg-white w-full rounded shadow-md">
            <div class="relative flex place-content-between place-items-center border-b">
                <h1 class="text-2xl font-semibold text-gray-700 px-6 py-4">Today's Sales</h1>
                <!-- <i class="fa fa-arrow-down-short-wide px-4 cursor-pointer" id="show-menu"></i> -->
                <div class="hidden mx-4 flex-col py-1 px-2 absolute right-0 top-push rounded bg-gray-200 z-50" id="menu">
                    <span class="py-1 my-1 cursor-pointer hover:bg-white">Today</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Previous</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Weekly</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Monthly</span>
                </div>
                
            </div>
            <div class="p-4 min-w-full relative rounded overflow-x-scroll overflow-hidden">
                <table class="table-fixed border min-w-full text-sm text-left text-gray-500">
                    <thead class="text-sm text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3">No.</th>
                            <th scope="col" class="px-6 py-3">Product</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">No. of Orders</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Per Price</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Date Ordered</th>
                            <th scope="col" class="px-6 py-3 md:text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody id="order-table">
                        {% for sale in sales %}
                        <tr class="bg-white border-t hover:bg-gray-100">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">{{forloop.counter}}</th>
                            <td class="px-6 py-4 whitespace-nowrap">{{sale.product__product_name}}</td>
                            <td class="px-6 py-4 text-center">{{sale.order_quantity}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center">Gh&cent; {{sale.product__price}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center"> {{sale.created}}</td>
                            <td class="px-6 py-4 md:text-center">
                                <a class="text-emerald-600 px-1" href=" {% url "stores:product-sales" sale.product__product_name %}">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        
        <div class="bg-white w-full rounded shadow-md">
            <div class="relative flex place-content-between place-items-center border-b">
                <h1 class="text-2xl font-semibold text-gray-700 px-6 py-4">Weekly Sales</h1>
                <!-- <i class="fa fa-arrow-down-short-wide px-4 cursor-pointer" id="show-menu"></i> -->
                <div class="hidden mx-4 flex-col py-1 px-2 absolute right-0 top-push rounded bg-gray-200 z-50" id="menu">
                    <span class="py-1 my-1 cursor-pointer hover:bg-white">Today</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Previous</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Weekly</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Monthly</span>
                </div>
                
            </div>
            <div class="p-4 min-w-full relative rounded overflow-x-scroll overflow-hidden">
                <table class="table-fixed border min-w-full text-sm text-left text-gray-500">
                    <thead class="text-sm text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3">No.</th>
                            <th scope="col" class="px-6 py-3">Product</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">No. of Orders</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Per Price</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Date Ordered</th>
                            <th scope="col" class="px-6 py-3 md:text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody id="order-table">
                        {% for sale in weekly %}
                        <tr class="bg-white border-t hover:bg-gray-100">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">{{forloop.counter}}</th>
                            <td class="px-6 py-4 whitespace-nowrap">{{sale.product__product_name}}</td>
                            <td class="px-6 py-4 text-center">{{sale.order_quantity}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center">Gh&cent; {{sale.product__price}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center"> {{sale.created}}</td>
                            <td class="px-6 py-4 md:text-center">
                                <a class="text-emerald-600 px-1" href="">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="bg-white w-full rounded shadow-md">
            <div class="relative flex place-content-between place-items-center border-b">
                <h1 class="text-2xl font-semibold text-gray-700 px-6 py-4">Monthly Sales</h1>
                <!-- <i class="fa fa-arrow-down-short-wide px-4 cursor-pointer" id="show-menu"></i> -->
                <div class="hidden mx-4 flex-col py-1 px-2 absolute right-0 top-push rounded bg-gray-200 z-50" id="menu">
                    <span class="py-1 my-1 cursor-pointer hover:bg-white">Today</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Previous</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Weekly</span>
                    <span class="py-1 my-1 cursor-pointer hover:bg-gray-50">Monthly</span>
                </div>
                
            </div>
            <div class="p-4 min-w-full relative rounded overflow-x-scroll overflow-hidden">
                <table class="table-fixed border min-w-full text-sm text-left text-gray-500">
                    <thead class="text-sm text-gray-700 uppercase bg-gray-50">
                        <tr>
                            <th scope="col" class="px-6 py-3">No.</th>
                            <th scope="col" class="px-6 py-3">Product</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">No. of Orders</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Per Price</th>
                            <th scope="col" class="px-6 py-3 whitespace-nowrap md:text-center">Date Ordered</th>
                            <th scope="col" class="px-6 py-3 md:text-center">Action</th>
                        </tr>
                    </thead>
                    <tbody id="order-table">
                        {% for sale in monthly %}
                        <tr class="bg-white border-t hover:bg-gray-100">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">{{forloop.counter}}</th>
                            <td class="px-6 py-4 whitespace-nowrap">{{sale.product__product_name}}</td>
                            <td class="px-6 py-4 text-center">{{sale.order_quantity}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center">Gh&cent; {{sale.product__price}}</td>
                            <td class="px-6 py-4 whitespace-nowrap md:text-center"> {{sale.created}}</td>
                            <td class="px-6 py-4 md:text-center">
                                <a class="text-emerald-600 px-1" href="">
                                    <i class="fa fa-eye"></i>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

{% endblock content %}

{% block script %}
    <script>
        document.addEventListener("DOMContentLoaded", ()=> {
            const table = document.getElementById("order-table");
            const showMenu = document.getElementById("show-menu");
            const menu = document.getElementById("menu");

            showMenu.addEventListener("click", ()=>{
                menu.classList.replace("hidden", "flex")
            })
        })
    </script>
{% endblock script %}